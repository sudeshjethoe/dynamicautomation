---
layout: post
title: Access Unix NFS shares from Windows XP
date: '2012-01-06 12:22:34 +0100'
categories:
- Uncategorized
- linux
tags:
- linux
- nfs
- windows xp
---
<p>Howto access Unix NFS shares from Windows XP:<br />
1. Download and install: <a href="http://www.microsoft.com/download/en/details.aspx?id=274">Windows Services for UNIX</a> (latest at time of writing 3.5)<br />
2. Create a directory for the passwd and group file of the Unix server you want to access<br />
(Windows needs to map local user to these accounts, else it won't work)<br />
mkdir C:\etc<br />
copy the /etc/passwd and /etc/group files from the Unix machine to C:\etc\<br />
3. Configure the mapping service to use these files for resolving user names, by running the following command:</p>
<blockquote><p>C:\>mapadmin adddomain -d \\MY_COMPUTER -f C:\etc</p></blockquote>
<p>make sure to fill in the LOCAL computer name in at MY_COMPUTER<br />
You can check if it worked by typing:</p>
<blockquote><p>C:\>mapadmin listdomainmaps<br />
Windows domain to UNIX domain Mappings:<br />
Windows Domain UNIX Domain<br />
-------------------------------------------------------<br />
\\MY_COMPUTER PCNFS (C:\etc\passwd)</p></blockquote>
<p>You've just created a mapping from your windows host to your Unix host PCNFS!<br />
4. Now you have to start the service, in <a href="http://support.microsoft.com/kb/324073">M$ documentation</a> it says 'mapadmin start', this doesn't work, you need to do the following:</p>
<blockquote><p>run services.msc<br />
select 'User Name Mapping service' and enable this and START it</p></blockquote>
<p>5. Now it's possible to map local (Windows) users to Unix users (and groups) in the etc/passwd file by running:</p>
<blockquote><p>C:\>mapadmin add -wu MY_COMPUTER\win_user -uu PCNFS\unix_user<br />
and map groups:<br />
C:\>mapadmin add -wg \\MY_COMPUTER\Users -ug PCNFS\users<br />
Add guest accounts for squash:<br />
C:\>mapadmin add -wu MY_COMPUTER\Guest -uu PCNFS\nobody<br />
C:\>mapadmin add -wg \\MY_COMPUTER\Guests -ug PCNFS\nogroup</p></blockquote>
<p>6. If you wan't anonymous access you need to map Guest to the unix user nobody. (this remains to be tested however)</p>
